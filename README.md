# MNIST Digit Recognizer API

This project is a simple web application that recognizes handwritten digits from the MNIST dataset. It consists of a Python script to train a neural network model and a Flask API to serve predictions.

## Project Structure

- `train_model.py`: Script to train the MNIST model using TensorFlow/Keras and log experiments with MLflow.
- `app.py`: A Flask application that exposes a `/predict` endpoint to get digit predictions from the trained model.
- `requirements.txt`: A list of Python dependencies required for the project.
- `Dockerfile`: A file to build a Docker image for the application.
- `mnist_model.h5`: The trained model (generated by `train_model.py`).

## Installation

1.  **Clone the repository:**
    ```bash
    git clone <repository-url>
    cd <repository-directory>
    ```

2.  **Create a virtual environment (recommended):**
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **Install the dependencies:**
    ```bash
    pip install -r requirements.txt
    pip install mlflow
    ```
    *Note: `mlflow` is used for experiment tracking in `train_model.py`.*

## Usage

### 1. Train the Model

To train the model, run the `train_model.py` script:

```bash
python train_model.py
```

This will train a new model on the MNIST dataset, save it as `mnist_model.h5`, and log the training parameters and metrics using MLflow.

### 2. Run the Flask API

To start the Flask server, run the `app.py` script:

```bash
python app.py
```

The application will be available at `http://localhost:5000`.

### 3. Get Predictions

You can send a POST request to the `/predict` endpoint with a JSON payload containing the image data. The image should be a flattened 784-element array of pixel values (28x28 image).

Here is an example using `curl`:

```bash
curl -X POST -H "Content-Type: application/json" -d '{"image": [<your_784_pixel_values>]}' http://localhost:5000/predict
```

Replace `<your_784_pixel_values>` with the actual image data.

## Docker

You can also build and run the application using Docker.

1.  **Build the Docker image:**
    ```bash
    docker build -t mnist-api .
    ```

2.  **Run the Docker container:**
    ```bash
    docker run -p 5000:5000 mnist-api
    ```

The API will be accessible at `http://localhost:5000`.